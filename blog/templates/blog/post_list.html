{% extends 'layout.html' %}
{% block content %}
  <div class="container">
    <table class="table">
      <thead>
      <tr>
        <th scope="col">번호</th>
        <th scope="col">제목</th>
        <th scope="col">날짜</th>
      </tr>
      </thead>
      <tbody>
      {% for post in qs %}
        <tr>
          <td>{{ post.id }}</td>
          <td><a href="{% url 'blog:post_detail' post.pk %}?category={{ category_title }}">{{ post.title }}</a></td>
          <td>{{ post.short_date }}</td>
        </tr>
      {% endfor %}
      {% if category_title %}
        <tr>
          <td colspan="3">
            <div class="d-flex flex-row-reverse">
              <button class="btn btn-sm btn-primary"
                      onclick="window.location.href='{% url 'blog:post_new' %}?category={{ category_title }}'">
                글쓰기
              </button>
            </div>
          </td>
        </tr>
      {% endif %}
      </tbody>
    </table>

      <nav class="d-flex justify-content-center">
        <ul class="pagination pagination-sm">
          {% if qs.has_previous %}
            <li class="page-item">
              <a class="page-link" href="?category={{ category_title }}&page={{ qs.previous_page_number }}">이전</a>
            </li>
          {% endif %}
          {% for page_number in pages.page_range %}
            <li class="page-item {% if qs.number == page_number %} active {% endif %} ">
              <a class="page-link" href="?category={{ category_title }}&page={{ page_number }}"
              >{{ page_number }}</a>
            </li>
          {% endfor %}
          {% if qs.has_next %}
            <li class="page-item">
              <a class="page-link" href="?category={{ category_title }}&page={{ qs.next_page_number }}">다음</a>
            </li>
          {% endif %}
        </ul>
      </nav>
  </div>
{% endblock %}
